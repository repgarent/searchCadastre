<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title>Plugin Cadastre - Documentation utilisateur</title>
<meta name="date" content="2013" />
<meta name="copyright" content="CC-BY-SA" />
<meta content="documentation, QGIS, plugin, cadastre, 3liz" name="keywords" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="plugin-cadastre-documentation-utilisateur">
<h1 class="title">Plugin Cadastre - Documentation utilisateur</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr class="field"><th class="docinfo-name">Auteurs:</th><td class="field-body">Michaël DOUCHIN - 3liz</td>
</tr>
<tr><th class="docinfo-name">Date:</th>
<td>2013</td></tr>
<tr><th class="docinfo-name">Copyright:</th>
<td>CC-BY-SA</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first last reference external" href="mailto:info&#64;3liz.com">info&#64;3liz.com</a></td></tr>
<tr class="field"><th class="docinfo-name">Résumé:</th><td class="field-body">Ce document contient la documentation du plugin Cadastre pour le logiciel QGIS.</td>
</tr>
</tbody>
</table>
<img alt="MEDIA/logo-qgis.jpg" class="align-center" src="MEDIA/logo-qgis.jpg" style="width: 100px;" />
<img alt="MEDIA/cadastre_financeurs.png" class="align-center" src="MEDIA/cadastre_financeurs.png" />
<div class="section" id="installation">
<h1>Installation</h1>
<p>Le plugin Cadastre est dans les dépôts officiels du projet QGIS. Pour l'installer, il faut :</p>
<ul class="simple">
<li><strong>Lancer QGIS</strong></li>
<li>Menu <strong>Extension &gt; Installer/Gérer les extensions</strong></li>
<li>Onglet <strong>Paramètres</strong> &gt; Vérfier que la case <em>Afficher les extensions expérimentales</em> est bien cochée</li>
<li>Onglet <strong>En obtenir plus</strong> : chercher le plugin <strong>cadastre</strong>, le sélectionner et cliquer sur installer</li>
</ul>
<p>Une fois le plugin installé, un nouveau menu <strong>Cadastre</strong> apparaît dans la barre de menu de QGIS. Il comporte les sous-menus suivants :</p>
<ul class="simple">
<li><strong>Importer des données</strong></li>
<li><strong>Charger des données</strong></li>
<li><strong>Outils de recherche</strong></li>
<li><strong>Configurer le plugin</strong></li>
<li><strong>À propos</strong></li>
</ul>
<p>Ces sous-menus sont détaillés dans les chapitres suivants.</p>
</div>
<div class="section" id="configurer-le-plugin">
<h1>Configurer le plugin</h1>
<p>Avant d'importer les premières données cadastrales dans la base de données, il faut au préalable configurer le plugin :</p>
<ul class="simple">
<li>Menu <strong>Cadastre &gt; Configurer le plugin</strong> ou <strong>icône outils</strong> de la barre d'outil Cadastre</li>
</ul>
<img alt="MEDIA/cadastre_option_dialog.png" class="align-center" src="MEDIA/cadastre_option_dialog.png" />
<div class="section" id="interface">
<h2>Interface</h2>
<p>Les 2 boutons <strong>Interface Cadatre</strong> et <strong>Interface QGIS</strong> permettent d'ouvrir une aide pour appliquer une interface simplifiée adaptée à une utilisation de consultation du Cadastre.</p>
<p>A ce jour, QGIS ne permet pas de modifier dynamiquement l'interface via un plugin. Nous incorporerons cette fonctionnalité lorsque ce sera possible. En attendant, il faut donc le faire manuellement, comme expliqué dans la fenêtre d'aide.</p>
</div>
<div class="section" id="nom-des-fichiers-majic">
<h2>Nom des fichiers MAJIC</h2>
<p>Cette partie permet de spécifier comment sont appelés les fichiers MAJIC sur votre poste de travail. En effet, les conventions de nommage peuvent changer d'un département à l'autre. Souvent, les fichiers se terminent par une extension relative au département et à la direction, par exemple .800 pour les fichiers du département de la Somme.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Il est important de bien configurer ces noms de fichiers avant votre premier import.</p>
</div>
</div>
<div class="section" id="repertoire-temporaire">
<h2>Répertoire temporaire</h2>
<p>Vous pouvez choisir le répertoire dans lequel les scripts seront copiés, et les fichiers décompressés. Choisisez un répertoire contenant assez de place pour stocker les fichiers temporaires, surtout si vous souhaitez charger des données volumineuses.</p>
<p>Ce répertoire est aussi celui dans lequel les <strong>relevés parcellaires</strong> et les <strong>relevés de propriété</strong> seront exportés.</p>
</div>
<div class="section" id="performances">
<h2>Performances</h2>
<p>Vous pouvez modifier dans ce groupe les options suivantes pour adapter le plugin aux performances de votre matériel :</p>
<ul class="simple">
<li><strong>Taille maximum des requêtes INSERT</strong> : Vous pouvez baisser le chiffre jusqu'à 10000 si vous avez une machine légère et un gros volume de données à importer. Plus le chiffre est bas, plus l'import initial peut prendre du temps.</li>
<li><strong>Stockage temporaire</strong> : Le mode <em>MEMORY</em> est plus rapide, mais nécessite assez de mémoire vive pour stocker les données à traiter. Le mode <em>DEFAULT</em> est plus lent et adapté à des ordinateurs avec peu de mémoire vive.</li>
</ul>
</div>
</div>
<div class="section" id="importer-des-donnees">
<h1>Importer des données</h1>
<p>Cette boite de dialogue permet de réaliser un <strong>import de données EDIGEO et MAJIC</strong>.</p>
<img alt="MEDIA/cadastre_import_dialog.png" class="align-center" src="MEDIA/cadastre_import_dialog.png" />
<div class="section" id="principe">
<h2>Principe</h2>
<p>Le plugin permet l'import de données <strong>MAJIC 2012, 2013 et 2014, et des données EDIGEO</strong> . Il est possible d'importer des données de manière incrémentale, <strong>étape par étape</strong>, ou bien d'importer <strong>en une seule fois</strong>.</p>
<p>Le plugin utilise pour cela la notion de <strong>lot</strong>. Un lot regroupe un <strong>ensemble de données cohérent</strong> pour votre utilisation. Par exemple, le lot peut être le code d'une commune, ou l'acronyme d'une communauté de commune. C'est une chaîne de 10 caractères maximum. Vous pouvez utiliser des chiffres ou des lettres.</p>
<p>Vous pouvez par exemple importer les données dans cette ordre :</p>
<ul class="simple">
<li>données EDIGEO de la commune A, lot &quot;com_a&quot;</li>
<li>données EDIGEO de la commune B, lot &quot;com_b&quot;</li>
<li>données MAJIC de la commune A, lot &quot;com_a&quot;</li>
<li>données EDIGEO de la commune A, lot &quot;com_a&quot; (réimport et écrasement des données précédentes)</li>
<li>données EDIGEO de la commune C, lot &quot;com_c&quot;</li>
</ul>
<p>Il est donc important de conserver une liste des lots définis pendant les imports successifs, pour savoir ensuite quel lot utiliser si on souhaite écraser des données.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Une version prochaine du plugin pourra intégrer un tableau récapitulatif des imports effectués dans une base de données pour faciliter le suivi des imports réalisés.</p>
</div>
</div>
<div class="section" id="bases-de-donnees">
<h2>Bases de données</h2>
<p>Deux <strong>Systèmes de Gestion de Bases de Données</strong> (SGBD) sont supportés par le plugin Cadastre :</p>
<ul class="simple">
<li><strong>PostGreSQL</strong> et son extension spatiale <strong>PostGIS</strong></li>
<li><strong>Sqlite</strong> et son extension spatiale <strong>Spatialite</strong></li>
</ul>
<p>Nous conseillons d'utiliser PostGreSQL pour des données volumineuses et pour gérer des accès multiples à la base de données.</p>
<p>Pour les bases de données <strong>PostGIS</strong>, il faut :</p>
<ul class="simple">
<li>avoir créé <strong>une base de données</strong> sur laquelle on a les droits en écriture, et activer l'extension PostGIS.</li>
<li>avoir créé au préalable <strong>une connexion QGIS</strong> via le menu <strong>Couches &gt; Ajouter une couche PostGIS</strong> vers cette base de données</li>
</ul>
<p>Pour les bases de données <strong>Spatialite</strong>, l'interface d'import permet de créer une base de données vide et la connexion QGIS liée si nécessaire.</p>
</div>
<div class="section" id="les-etapes-d-importation">
<h2>Les étapes d'importation</h2>
<p>Pour lancer l'importation, il faut bien avoir au préalable configuré les noms des fichiers MAJIC via le menu <strong>Configurer le plugin</strong>. Ensuite, on ouvre la boite de dialogue</p>
<ul class="simple">
<li>via la <strong>barre d'outil Cadastre</strong> , icône base de données</li>
<li>via le menu <strong>Cadastre &gt; Importer des données</strong></li>
</ul>
<p>On configure ensuite les options :</p>
<ul class="simple">
<li>Choisir <strong>le type de base de données</strong> : PostGIS ou Spatialite</li>
<li>Choisir <strong>la connexion</strong></li>
</ul>
<blockquote>
<ul class="simple">
<li>Pour Postgis, on peut ensuite <strong>choisir un schema</strong>, ou en <strong>créer un nouveau</strong></li>
<li>Pour Spatialite, on peut <strong>créer une nouvelle base de données</strong></li>
</ul>
</blockquote>
<ul class="simple">
<li>Choisir le répertoire contenant les <strong>fichiers EDIGEO</strong> :</li>
</ul>
<blockquote>
<ul class="simple">
<li>On peut sélectionner le <strong>répertoire parent</strong> qui contient l'ensemble des sous-répertoires vers les communes : le plugin ira chercher les fichiers de manière récursive.</li>
<li>seuls les fichiers <strong>zip</strong> et <strong>tar.bz2</strong> sont pour l'instant gérés</li>
</ul>
</blockquote>
<ul class="simple">
<li>Choisir la <strong>projection source</strong> des fichiers EDIGEO et la <strong>projection cible</strong> désirée</li>
<li>Choisir le <strong>numéro du Département</strong>, par exemple : 80 pour la Somme</li>
<li>Choisir le <strong>numéro de la Direction</strong>, par exemple: 0</li>
<li>Choisir le répertoire contenant <strong>les fichiers MAJIC</strong></li>
</ul>
<blockquote>
<ul class="simple">
<li>Comme pour EDIGEO, le plugin ira chercher les fichiers dans les répertoires et les sous-répertoires et importera l'ensemble des données.</li>
<li>Si vous ne possédez pas les données FANTOIR dans votre jeu de données MAJIC, nous conseillons vivement de les télécharger et de configurer le plugin pour donner le bon nom au fichier fantoir : <a class="reference external" href="http://www.collectivites-locales.gouv.fr/mise-a-disposition-fichier-fantoir-des-voies-et-lieux-dits">http://www.collectivites-locales.gouv.fr/mise-a-disposition-fichier-fantoir-des-voies-et-lieux-dits</a></li>
</ul>
</blockquote>
<ul class="simple">
<li>Choisir la <strong>version du format</strong> en utilisant les flèches haut et bas</li>
</ul>
<blockquote>
<ul class="simple">
<li>Seuls les formats 2012, 2013 et 2014 sont pris en compte</li>
</ul>
</blockquote>
<ul class="simple">
<li>Choisir le <strong>millésime des données</strong>, par exemple 2012</li>
<li>Choisir le <strong>Lot</strong> : utilisez par exemple le code INSEE de la commune.</li>
<li>Lancer l'import en cliquant sur le bouton <strong>Lancer l'import</strong></li>
</ul>
<p>Le déroulement de l'import est écrit dans le bloc texte situé en bas de la fenêtre.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Pendant l'import, il est conseillé de ne pas déplacer ou cliquer dans la fenêtre. Pour l'instant, le plugin n'intègre pas de bouton pour annuler un import.</p>
</div>
</div>
</div>
<div class="section" id="charger-des-donnees">
<h1>Charger des données</h1>
<img alt="MEDIA/cadastre_load_dialog.png" class="align-center" src="MEDIA/cadastre_load_dialog.png" />
<ul>
<li><p class="first">Menu <strong>Cadastre &gt; Charger des données</strong></p>
</li>
<li><p class="first">Choisir le <strong>type de base</strong> de données</p>
</li>
<li><p class="first">Choisir ensuite <strong>la connexion</strong> vers la base de donnée dans lequel l'import a été fait</p>
</li>
<li><p class="first">Si PostGIS, choisir <strong>le schéma</strong> contenant les données</p>
</li>
<li><p class="first">Chosir <strong>le thème</strong> à appliquer</p>
<blockquote>
<ul class="simple">
<li><em>Classique</em> : un thème proche du rendu de cadastre.gouv.fr</li>
<li><em>Orthophoto</em> : un thème adapté à un affichage par dessus un fond orthophoto.</li>
</ul>
</blockquote>
</li>
<li><p class="first">Option <strong>Remplacement des couches ?</strong> : Cette option permet de choisir le comportement du chargement des données en fonction des couches déjà existantes dans le projet QGIS</p>
</li>
</ul>
<blockquote>
<ul class="simple">
<li><em>Conserver</em> : signifie qu'on ne remplace pas la couche déjà présente dans QGIS par la couche correspondante trouvée dans la base de données</li>
<li><em>Remplacer</em> : signifie qu'on supprime la couche déjà présente pour la remplacer par la couche correspondante dans la base de données</li>
</ul>
</blockquote>
<ul class="simple">
<li><strong>Charger les données</strong> en cliquant sur le bouton : une fois les données chargées, l'emprise de la carte est raffraîchie pour afficher l'ensemble des données (zoom sur l'ensemble des communes trouvées)</li>
</ul>
</div>
<div class="section" id="la-barre-d-outil-cadastre">
<h1>La barre d'outil Cadastre</h1>
<p>La barre d'outil peut s'afficher ou se masquer à partir :</p>
<ul class="simple">
<li>du menu <strong>Vue &gt; Barres d'outils &gt; Cadastre</strong></li>
<li>d'un clic droit à côté d'une des barres d'outils de QGIS, et sélectionner <strong>Cadastre</strong></li>
</ul>
<p>Elle contient :</p>
<ul class="simple">
<li>Un outil pour <strong>identifier une parcelle</strong> sur la carte</li>
<li>Des boutons qui reprennent les sous-menus du plugin : Importer, Charger, Rechercher, Configurer, A propos</li>
</ul>
<p>Pour connaître l'action d'une des icônes, il suffit de laisser la souris un moment au-dessus pour voir apparaître une bulle d'information.</p>
<div class="section" id="indentifier-une-parcelle">
<h2>Indentifier une parcelle</h2>
<p>Pour avoir des informations complètes sur une parcelle, il faut avoir au préalable importé des données MAJIC dans la base de données. Sinon, seules les informations principales seront affichées et certains boutons d'action sont désactivés.</p>
<p>Pour faire apparaître la fiche d'information d'une parcelle, il faut</p>
<ul class="simple">
<li>activer l'outil <strong>Identifier une parcelle</strong> de la barre d'outil</li>
<li><strong>Zoomer à une échelle</strong> pour laquelle les parcelles sont visibles (à partir de 1/20 000).</li>
<li><strong>Cliquer sur une des parcelles</strong> de la carte.</li>
</ul>
<p>La fenêtre d'identification s'affiche alors, et présente</p>
<ul class="simple">
<li>un bloc avec les <strong>informations générales de la parcelle</strong></li>
<li>un bloc avec les <strong>propriétaires</strong> de la parcelle</li>
<li>une zone contenant des <strong>boutons d'action</strong></li>
</ul>
<blockquote>
<ul class="simple">
<li>2 boutons pour <strong>exporter</strong> le <strong>relevé parcellaire</strong> et le <strong>relevé de propriété</strong> au format PDF</li>
<li>3 boutons pour <strong>interargir avec l'objet géométrique</strong> lié à la parcelle : centrer la carte sur la parcelle, zoomer sur la parcelle, ou sélectionner l'objet dans la couche</li>
<li>Un dernier bouton pour <strong>sélectionner dans la couche toutes les parcelles du propriétaire</strong></li>
</ul>
</blockquote>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous n'avez pas importé de données FANTOIR, la commune de la parcelle ne sera pas affichée dans la fenêtre et l'adresse pourra être tronquée (de même pour les relevés exportés)</p>
</div>
</div>
</div>
<div class="section" id="le-panneau-de-recherche">
<h1>Le panneau de recherche</h1>
<img alt="MEDIA/cadastre_search_dialog.png" class="align-center" src="MEDIA/cadastre_search_dialog.png" />
<div class="section" id="id1">
<h2>Principe</h2>
<p>Le panneau de recherche propose des outils pour rechercher des parcelles via 3 entrées principales</p>
<ul class="simple">
<li>une recherche par <strong>objet géographque</strong> : commune et section</li>
<li>une recherche par <strong>adresse</strong></li>
<li>une recherche par <strong>propriétaire</strong></li>
</ul>
<p>Les différentes recherches seront détaillées dans les sous-chapitres suivants.</p>
<p>Pour afficher le panneau de recherche:</p>
<ul class="simple">
<li>Utiliser le menu <strong>Cadastre &gt; Outils de recherche</strong> ou cliquer sur l'<strong>icône loupe</strong> de la barre d'outils</li>
</ul>
<p>Une bulle d'information affiche la fonction des boutons au survol de la souris.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Si la base de données ne contient aucune donnée MAJIC, alors les outils de recherche par adresse et par propriétaire sont désactivés.</p>
</div>
</div>
<div class="section" id="recherche-de-lieux">
<h2>Recherche de lieux</h2>
<p>L'outil présente 3 listes déroulantes :</p>
<ul class="simple">
<li><strong>Commune</strong></li>
<li><strong>Section</strong></li>
<li><strong>Parcelles</strong></li>
</ul>
<p>Il est possible de <strong>sélectionner une entité</strong>:</p>
<ul class="simple">
<li>soit <em>à la souris</em> en cliquant sur la flèche pour ouvrir la liste déroulante puis sélectionner un item.</li>
<li>soit en <em>tapant les premières lettres</em> et en sélectionnant l'item choisi dans la liste d'autocomplétion qui s'affiche alors.</li>
</ul>
<p>Les listes déroulantes sont <strong>hiérarchiques</strong> :</p>
<ul class="simple">
<li>Lorsqu'on choisit une commune, la liste des sections est raffraîchie et ne montre que les sections de la commune choisie.</li>
<li>lorsqu'on choisit une section, la liste des parcelles est raffraîchie.</li>
</ul>
<p>Des <strong>boutons d'actions</strong> sont positionnés sous les 3 listes déroulantes et permettent de lancer l'action choisie sur le dernier objet sélectionné dans les 3 listes :</p>
<ul class="simple">
<li><em>Centrer sur l'objet</em> : la carte est déplacée vers l'objet sélectionné, mais l'échelle est conservée</li>
<li><em>Zoomer sur l'objet</em> : la carte est déplacée et mise à l'échelle pour afficher l'objet sélectionné</li>
<li><em>Sélectionner l'objet</em> : l'objet est sélectionné dans la couche de données correspondante ( Communes, Sections ou Parcelles)</li>
</ul>
<p>A côté des 3 listes, un bouton <strong>croix rouge</strong> permet de remettre la liste à son état initial, c'est-à-dire sans objet sélectionné. Par exemple, si on avait sélectionné une commune dans la premier liste et une section dans la seconde, on peut cliquer sur la croix rouge à côté de la section pour désélectionner la section dans la liste. Ainsi si on utilise le bouton de Zoom, on zoomera sur la commune et non sur la section qui était précédemment sélectionnée</p>
<p>Si une parcelle a été sélectionnée dans la liste <strong>Parcelles</strong>, il est possible d'<strong>exporter le relevé parcellaire</strong> en cliquant sur le bouton <em>icône PDF</em> situé en bas à droite du bloc de recherche de lieux. Le <strong>PDF est généré et ouvert</strong> avec le lecteur PDF par défaut du système.</p>
</div>
<div class="section" id="recherche-d-adresse">
<h2>Recherche d'adresse</h2>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Pour l'instant, cet outil ne fonctionne que si des données MAJIC sont dans la base, et si les données FANTOIR ont été importées. Si vous ne possédez pas de données FANTOIR dans votre lot de données MAJIC, vous pouvez le télécharger pour votre département ici (et relancer l'import Majic): <a class="reference external" href="http://www.collectivites-locales.gouv.fr/mise-a-disposition-fichier-fantoir-des-voies-et-lieux-dits">http://www.collectivites-locales.gouv.fr/mise-a-disposition-fichier-fantoir-des-voies-et-lieux-dits</a></p>
</div>
<p>Pour lancer une <strong>recherche de parcelles par adresse</strong>, il suffit:</p>
<ul class="simple">
<li>d'<em>entrer l'adresse cherchée</em>, sans le numéro de rue dans la liste <strong>Adresse</strong>.</li>
<li>de cliquer sur le <strong>bouton loupe</strong> situé à côté de la liste, ou d'appuyer sur la <strong>touche entrée</strong></li>
</ul>
<p>La recherche est effectuée et la liste déroulante où vous avez tapé l'adresse à chercher est maintenant raffraîchie et contient l'ensemble des résultats trouvés.</p>
<p>Si des résultats ont été trouvés, on peut ensuite :</p>
<ul class="simple">
<li><strong>Sélectionner une adresse</strong> dans la liste déroulante via la souris. Cela <strong>raffraîchit la liste des parcelles</strong> située en dessous.</li>
<li>cliquer sur les boutons de <strong>centrage, zoom et sélection</strong> . Chaque action est lancée sur <strong>l'ensemble des parcelles correspondantes</strong> à l'adresse choisie</li>
<li>Sélectionner une des parcelles dans la liste déroulante <strong>Parcelles</strong> et réutiliser les boutons d'action.</li>
<li>Si une parcelle est sélectionnée, le bouton avec une icône PDF permet d'<strong>exporter le relevé parcellaire</strong> pour cette parcelle</li>
</ul>
</div>
<div class="section" id="recherche-de-proprietaires">
<h2>Recherche de propriétaires</h2>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Ce bloc de recherche ne fonctionne pas si aucune donnée MAJIC n'est présente dans la base</p>
</div>
<p>Le principe et le fonctionnement est le même que pour la recherche par adresse, avec les différences suivantes :</p>
<ul class="simple">
<li>Un bouton est ajouté à côté de la liste des propriétaire pour <strong>exporter le relevé de propriété</strong> du propriétaire sélectionné dans la liste</li>
<li>Le bouton d'<strong>export du relevé parcellaire</strong> est placé à côté de la liste <em>Parcelles</em></li>
</ul>
<p>Il est possible d'exporter le relevé de propriété pour les personnes qui ne possèdent pas de propriété non bâtie.</p>
</div>
</div>
<div class="section" id="a-propos">
<h1>À propos</h1>
<p>Le menu <strong>Cadastre &gt; A propos</strong> ouvre une fenêtre d'information sur le plugin Cadastre : financeurs, auteur, licence, dépôt de sources, etc.</p>
<p>Cette fenêtre est automatiquement affichée lors de la première utilisation du plugin, mais pas les fois suivantes.</p>
</div>
<div class="section" id="videos-de-demonstration">
<h1>Vidéos de démonstration</h1>
<p>Pour faciliter la prise en main, vous pouvez consulter les vidéos en ligne :</p>
<ul class="simple">
<li>Import et chargement : <a class="reference external" href="https://vimeo.com/75004889">https://vimeo.com/75004889</a></li>
<li>Recherche : <a class="reference external" href="https://vimeo.com/74807532">https://vimeo.com/74807532</a></li>
</ul>
</div>
<div class="section" id="modele-de-donnees">
<h1>Modèle de données</h1>
<p>Les liens suivant permettent de voir comment sont organisées les données cadastrales dans la base de données (tables, contraintes, etc.)</p>
<ul class="simple">
<li><strong>Documentation détaillée</strong> : <a class="reference external" href="http://demo.3liz.com/plugin_cadastre/SchemaSpyGUI/index.html">http://demo.3liz.com/plugin_cadastre/SchemaSpyGUI/index.html</a></li>
<li><strong>Image du modèle</strong> : <a class="reference external" href="http://demo.3liz.com/plugin_cadastre/schema_cadastre.png">http://demo.3liz.com/plugin_cadastre/schema_cadastre.png</a></li>
<li><strong>Liste simplifiée des tables</strong> : <a class="reference external" href="http://demo.3liz.com/plugin_cadastre/schema_cadastre_postgresql_autodoc.html">http://demo.3liz.com/plugin_cadastre/schema_cadastre_postgresql_autodoc.html</a></li>
</ul>
<img alt="MEDIA/logo_3liz.png" class="align-center" src="MEDIA/logo_3liz.png" />
</div>
</div>
</body>
</html>
